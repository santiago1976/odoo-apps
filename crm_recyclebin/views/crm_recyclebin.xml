<?xml version='1.0' encoding='utf-8'?>
<odoo>
    <data>
        <!-- View Tree RecycleBin Leads -->
        <record model="ir.ui.view" id="recyclebin_tree">
            <field name="name">Form Recycle Bin</field>
            <field name="model">crm.lead</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Lead Recycle Bin">
                    <field name="name"/>
                    <field name="create_date"/>
                    <field name="create_uid"/>
                    <field name="stage_id"/>
                </tree>
            </field>
        </record>
        
        <record id="recyclebin_search_view" model="ir.ui.view">
            <field name="name">Filter Recycle</field>
            <field name="model">crm.lead</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search>
                    <field name="name"/>
                    <filter string="Leads Borrados" name="leadsearch" domain="[('active','=',False)]"></filter>
                </search>
            </field>
        </record>
        
        <record id="action_recyclebin_tree" model="ir.actions.act_window">
            <field name="name">RecycleBin Leads</field>
            <field name="res_model">crm.lead</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="recyclebin_search_view"></field>
            <field name="context">{"search_default_leadsearch":1}</field>
        </record>
        
        <menuitem id="menu_item_recyclebin" sequence="10" name="Lead Recycle Bin" action="action_recyclebin_tree" parent="crm.crm_menu_sales" groups="sales_team.group_sale_manager"/>
        
        <record id="crm_recycle_form_view_oppor" model="ir.ui.view">
            <field name="model">crm.lead</field>
            <field name="inherit_id" ref="crm.crm_case_form_view_oppor"/>
            <field name="arch" type="xml">
                <button name="136" position="after">
                    <button string="Recover Lead" name="recuperar_lead" type="object" class="oe_highlight"
                        attrs="{'invisible': [('active', '=', True)]}"/>
                </button>
            </field>
        </record>
        
    </data>
</odoo>
